import{_ as n,c as r,a as s,b as l,e as o,w as a,r as c,o as u,d as t}from"./app-hOV8JZRK.js";const d={};function h(p,i){const e=c("RouteLink");return u(),r("div",null,[i[3]||(i[3]=s('<h1 id="cliproxyapi-連携とワンクリックインポート" tabindex="-1"><a class="header-anchor" href="#cliproxyapi-連携とワンクリックインポート"><span>CLIProxyAPI 連携とワンクリックインポート</span></a></h1><blockquote><p>中継ステーションアカウントをローカルの CLIProxyAPI 管理インターフェースにワンクリックでインポートし、OpenAI互換プロバイダー設定を自動生成することで、手動での設定ファイルメンテナンスを回避します。</p></blockquote><h2 id="機能概要" tabindex="-1"><a class="header-anchor" href="#機能概要"><span>機能概要</span></a></h2><ul><li><strong>管理インターフェース連携</strong><ul><li>CLIProxyAPI の Management API（<code>/openai-compatibility</code>）を通じて設定を読み込み、書き戻します。</li><li>既存のプロバイダーに API Key を追加/更新するか、新しいプロバイダーを自動作成するのをサポートします。</li></ul></li><li><strong>ワンクリックキーインポート</strong><ul><li>キーリストで「CLIProxyAPI にインポート」をクリックすると、現在のサイトの Base URL とキーを CLIProxyAPI に書き込むことができます。</li></ul></li><li><strong>重複設定の回避</strong><ul><li>サイト名と <code>Base URL</code> を自動的に再利用し、同じプロバイダーが検出された場合はキーリストのみを更新し、重複するエントリは作成しません。</li></ul></li></ul><h2 id="前提条件" tabindex="-1"><a class="header-anchor" href="#前提条件"><span>前提条件</span></a></h2><ul><li>互換性のある <strong>CLIProxyAPI</strong> がデプロイまたは実行されており、管理インターフェースが有効になっていること： <ul><li>例のアドレス：<code>http://localhost:8317/v0/management</code></li><li><code>GET/PUT/PATCH /openai-compatibility</code> などのインターフェースをサポートします。</li></ul></li><li>管理インターフェースの <strong>Management Key</strong> を持っていること（認証用）。</li><li>All API Hub で以下が完了していること： <ul><li>少なくとも1つの中継ステーションアカウントを追加し、利用可能なキーを取得していること。</li></ul></li></ul><h2 id="設定エントリ" tabindex="-1"><a class="header-anchor" href="#設定エントリ"><span>設定エントリ</span></a></h2><ol><li>プラグインを開く → <strong>設定</strong> ページに移動します。</li><li><strong>「CLIProxyAPI」</strong> グループに切り替えます（<code>基本設定 → CLIProxyAPI</code> タブ）。</li><li>以下のフィールドを入力します： <ul><li><strong>管理インターフェース基本 URL</strong>：例 <code>http://localhost:8317/v0/management</code></li><li><strong>管理キー（Management Key）</strong>：管理インターフェースにアクセスするためのキー。</li></ul></li><li>保存後、設定はローカルのプリファレンスに保存され、以降のインポート操作で再利用されます。</li></ol><h2 id="キーリストからのワンクリックインポート" tabindex="-1"><a class="header-anchor" href="#キーリストからのワンクリックインポート"><span>キーリストからのワンクリックインポート</span></a></h2><ol><li>プラグインを開く → <strong>キー管理</strong> ページに移動します。</li><li>CLIProxyAPI にインポートしたいサイトキーカードを見つけます。</li><li>キーの右側にある CLIProxyAPI アイコンボタンをクリックします（通常、CherryStudio / CC Switch / New API ボタンの隣）。</li><li>プラグインは以下を行います： <ul><li>CLIProxyAPI の設定（基本 URL と管理キー）を読み込みます。</li><li>サイトの <code>Base URL</code> を使用して OpenAI 互換アドレスを生成します（<code>/v1</code> を自動的に付加）。</li><li>サイト名または Base URL をプロバイダー名として使用します。</li><li>CLIProxyAPI を呼び出します： <ul><li>同名または同じ <code>base-url</code> のプロバイダーが既に存在する場合： <ul><li>重複を排除した後、<code>api-key-entries</code> に現在のキーを追加します。</li></ul></li><li>存在しない場合： <ul><li>現在のキーと基本情報のみを含む新しいプロバイダーエントリを作成します。</li></ul></li></ul></li></ul></li><li>操作完了後、右上にインポート結果の通知（成功/失敗とエラー原因）が表示されます。</li></ol><h2 id="cliproxyapi-へのインポート後の効果" tabindex="-1"><a class="header-anchor" href="#cliproxyapi-へのインポート後の効果"><span>CLIProxyAPI へのインポート後の効果</span></a></h2><ul><li>CLIProxyAPI の設定では、以下のような構造が新規追加または更新されます： <ul><li><code>name</code>：サイト名（または Base URL）に由来します。</li><li><code>base-url</code>：対応する中継ステーションの <code>/v1</code> OpenAI 互換インターフェースを統一的に指します。</li><li><code>api-key-entries</code>：1つまたは複数の <code>api-key</code> レコードを含み、CLIProxyAPI 内で手動で編集を続けることができます。</li></ul></li><li>これは以下のことを意味します： <ul><li>CLIProxyAPI レイヤーで複数のアップストリーム中継ステーションのキーを一元管理できます。</li><li>All API Hub は基本設定情報を同期する役割を担い、その後の詳細は CLIProxyAPI 内でカスタマイズできます。</li></ul></li></ul><h2 id="よくある質問" tabindex="-1"><a class="header-anchor" href="#よくある質問"><span>よくある質問</span></a></h2><ul><li><strong>CLIProxyAPI が設定されていません</strong><ul><li><strong>設定 → CLIProxyAPI</strong> で基本 URL と管理キーが入力されているか確認してください。</li><li><code>/openai-compatibility</code> が余分に含まれていないことを確認してください。管理インターフェースのプレフィックスであるべきです。例：<code>.../v0/management</code>。</li></ul></li><li><strong>401/403 またはその他の HTTP エラーが返される</strong><ul><li>管理キーが正しいこと、および現在のユーザーが管理インターフェースにアクセスする権限を持っていることを確認してください。</li><li>CLIProxyAPI のバックエンドログを確認し、ルーティングとメソッド（GET/PUT/PATCH）が有効になっているか確認してください。</li></ul></li><li><strong>重複してインポートすると、多くのレコードが生成されますか？</strong><ul><li>いいえ。プラグインは <code>base-url</code> または名前に基づいて既存のプロバイダーを検索します： <ul><li>存在する場合は、<code>api-key-entries</code> のみを更新し、同じキーの重複を排除します。</li><li>存在しない場合にのみ、新しいプロバイダーを作成します。</li></ul></li></ul></li></ul><h2 id="使用のヒント" tabindex="-1"><a class="header-anchor" href="#使用のヒント"><span>使用のヒント</span></a></h2><ul><li>少数のテストアカウントでインポート効果を検証してから、本番環境で使用することをお勧めします。</li><li>All API Hub の <strong>クイックエクスポート</strong> 機能と連携して、同じアップストリームサイトのバッチを New API / CLIProxyAPI など複数のダウンストリームシステムに同期できます。</li></ul><h2 id="関連ドキュメント" tabindex="-1"><a class="header-anchor" href="#関連ドキュメント"><span>関連ドキュメント</span></a></h2>',17)),l("ul",null,[l("li",null,[o(e,{to:"/ja/quick-export.html"},{default:a(()=>i[0]||(i[0]=[t("サイト設定のクイックエクスポート",-1)])),_:1,__:[0]})]),l("li",null,[o(e,{to:"/ja/new-api-channel-management.html"},{default:a(()=>i[1]||(i[1]=[t("New API チャネル管理",-1)])),_:1,__:[1]})]),l("li",null,[o(e,{to:"/ja/new-api-model-sync.html"},{default:a(()=>i[2]||(i[2]=[t("New API モデルリスト同期",-1)])),_:1,__:[2]})])])])}const g=n(d,[["render",h]]),P=JSON.parse('{"path":"/ja/cliproxyapi-integration.html","title":"CLIProxyAPI 連携とワンクリックインポート","lang":"ja-JP","frontmatter":{"title":"CLIProxyAPI 連携とワンクリックインポート","description":"中継ステーションアカウントをローカルの CLIProxyAPI 管理インターフェースにワンクリックでインポートし、OpenAI互換プロバイダー設定を自動生成することで、手動での設定ファイルメンテナンスを回避します。"},"git":{"updatedTime":1764961437000,"contributors":[{"name":"github-actions[bot]","username":"github-actions[bot]","email":"41898282+github-actions[bot]@users.noreply.github.com","commits":1,"url":"https://github.com/github-actions[bot]"},{"name":"qixing-jk","username":"qixing-jk","email":"125447674+qixing-jk@users.noreply.github.com","commits":1,"url":"https://github.com/qixing-jk"},{"name":"anime","username":"anime","email":"street-anime-olive@duck.com","commits":1,"url":"https://github.com/anime"}],"changelog":[{"hash":"4c8982c28b76d99182a86ef08f14493c32cf154c","time":1764961437000,"email":"41898282+github-actions[bot]@users.noreply.github.com","author":"github-actions[bot]","message":"🌐 Auto-translate documentation (#240)","coAuthors":[{"name":"qixing-jk","email":"125447674+qixing-jk@users.noreply.github.com"},{"name":"anime","email":"street-anime-olive@duck.com"}]}]},"filePathRelative":"ja/cliproxyapi-integration.md"}');export{g as comp,P as data};
