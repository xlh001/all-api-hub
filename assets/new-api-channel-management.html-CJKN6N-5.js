import{_ as r,c as i,a as l,b as a,e as o,d as e,w as s,r as d,o as h}from"./app-BzMmXQUE.js";const g="/assets/new-api-channel-manage-CrNb0b2K.png",c={};function p(m,t){const n=d("RouteLink");return h(),i("div",null,[t[4]||(t[4]=l('<h1 id="new-api-渠道管理" tabindex="-1"><a class="header-anchor" href="#new-api-渠道管理"><span>New API 渠道管理</span></a></h1><blockquote><p>🧪 该功能目前处于 Beta 阶段，旨在把最常用的渠道运营动作（建站、调参、同步）浓缩进插件内，不必频繁往返 New API 后台。</p></blockquote><h2 id="功能概述" tabindex="-1"><a class="header-anchor" href="#功能概述"><span>功能概述</span></a></h2><ul><li>📋 <strong>渠道总览与过滤</strong>：一眼查看所有渠道的名称、类型、分组、优先级、权重与状态，支持关键字搜索与多标签过滤。</li><li>✏️ <strong>快速创建 / 编辑</strong>：弹出式表单沿用 New API 字段定义，可一次性配置模型列表、分组、优先级、权重以及状态。</li><li>🔄 <strong>单通道同步</strong>：调试模型同步时，可直接在列表内对指定渠道触发“同步此渠道”，与批量同步互补。</li><li>🗑️ <strong>安全删除</strong>：批量勾选后触发删除前会再次确认，避免误删生产渠道。</li><li>📦 <strong>无缝导出</strong>：与密钥管理联动，创建后可立刻导出到 CherryStudio、New API 或 CC Switch。</li></ul><h2 id="前置要求" tabindex="-1"><a class="header-anchor" href="#前置要求"><span>前置要求</span></a></h2><table><thead><tr><th>配置项</th><th>说明</th></tr></thead><tbody><tr><td><strong>New API 基础 URL</strong></td><td>需可访问的后台地址，例如 <code>https://example.com</code></td></tr><tr><td><strong>管理员令牌</strong></td><td>拥有渠道读写权限的 Admin Token</td></tr><tr><td><strong>管理员用户 ID</strong></td><td>与令牌对应的用户 ID</td></tr></tbody></table><blockquote><p>在插件中打开 <strong>设置 → 基础设置 → New API 集成设置</strong>，填写以上信息并保存。配置缺失时渠道管理页面会显示“配置缺失”提示。</p></blockquote><h2 id="如何进入功能页面" tabindex="-1"><a class="header-anchor" href="#如何进入功能页面"><span>如何进入功能页面</span></a></h2><ol><li>打开扩展弹窗，点击左侧的 <strong>“设置”</strong>。</li><li>在设置页面顶部标题下方选择 <strong>“New API 渠道管理（Beta）”</strong>，或直接点击基础设置里的 <strong>“管理渠道”</strong> 按钮。</li><li>若配置无误，将自动加载远端渠道列表。</li></ol><h2 id="渠道列表视图" tabindex="-1"><a class="header-anchor" href="#渠道列表视图"><span>渠道列表视图</span></a></h2><ul><li><p><img src="'+g+'" alt="New API 渠道管理界面"></p></li><li><p><strong>搜索框</strong>：支持以名称 / Base URL / 分组关键字模糊搜索。</p></li><li><p><strong>状态筛选</strong>：右上角的 <code>状态</code> 过滤器可快速查看启用、手动暂停或自动禁用的渠道。</p></li><li><p><strong>自定义列</strong>：通过列选择器控制是否显示 Base URL、分组、优先级等列。</p></li><li><p><strong>批量操作栏</strong>：在行前打勾即可开启批量删除。</p></li></ul><h2 id="创建或编辑渠道" tabindex="-1"><a class="header-anchor" href="#创建或编辑渠道"><span>创建或编辑渠道</span></a></h2><ol><li>点击右上角 <strong>“新增渠道”</strong> 或在行尾菜单选择 <strong>“编辑”</strong>。</li><li>在弹窗中填写： <ul><li><strong>基础信息</strong>：名称、类型、API Key、Base URL。</li><li><strong>模型列表</strong>：支持全选、反选、清空，并可手动输入自定义模型。</li><li><strong>用户分组</strong>：自动读取 New API 后台的分组，也可自定义。</li><li><strong>高级设置</strong>：优先级（priority）、权重（weight）、状态（启用/停用）。</li></ul></li><li>点击 <strong>“保存”</strong> 后，系统会调用 New API 的 <code>POST/PUT /api/channel</code> 接口，成功后自动刷新列表。</li></ol><h3 id="字段校验" tabindex="-1"><a class="header-anchor" href="#字段校验"><span>字段校验</span></a></h3><ul><li>渠道名称与 API Key 为必填（编辑时可根据需求放宽）。</li><li>部分类型（如火山、Suno）要求提供 Base URL。</li><li>未通过验证的字段会提示原因；提交失败会在右上角弹出 toast。</li></ul><h2 id="单通道同步" tabindex="-1"><a class="header-anchor" href="#单通道同步"><span>单通道同步</span></a></h2><p>若你正在配合 <strong>New API 模型同步</strong> 调试，可在列表中点击行尾的 <strong>“同步”</strong> 按钮，仅对当前渠道触发模型重定向生成与重试，便于快速验证。</p><h2 id="删除渠道" tabindex="-1"><a class="header-anchor" href="#删除渠道"><span>删除渠道</span></a></h2><ol><li>勾选要删除的渠道，点击 <strong>“删除”</strong>。</li><li>弹窗中确认后才会调用 <code>DELETE /api/channel/{id}</code>。</li><li>若返回错误（如权限不足），界面会展示后端返回的详细信息。</li></ol><h2 id="高阶技巧" tabindex="-1"><a class="header-anchor" href="#高阶技巧"><span>高阶技巧</span></a></h2><ul><li><strong>配合模型白名单</strong>：先在模型同步页设定白名单，再返回渠道页单独同步，可确保新渠道仅包含需要的模型。</li><li><strong>优先级与权重</strong>： <ul><li><code>priority</code> 越低，调用顺序越靠前。</li><li><code>weight</code> 用于同优先级渠道的负载均衡，数值越大被命中的概率越高。</li></ul></li><li><strong>批量导出</strong>：保存渠道后，可在 <strong>密钥管理 → 导出</strong> 面板一键推送到 CherryStudio / CC Switch，避免重复输入。</li></ul><h2 id="常见问题" tabindex="-1"><a class="header-anchor" href="#常见问题"><span>常见问题</span></a></h2><table><thead><tr><th>问题</th><th>解决方案</th></tr></thead><tbody><tr><td>渠道列表为空</td><td>检查 New API 配置是否填写完整或网络是否可访问后台。</td></tr><tr><td>保存时报 401/403</td><td>确保管理员令牌拥有渠道写权限，必要时重新生成 Token。</td></tr><tr><td>模型/分组列表为空</td><td>插件仍会允许手动输入；可在 <code>设置 → New API 集成</code> 中重新保存配置后再试。</td></tr><tr><td>点击同步无响应</td><td>请检查浏览器是否禁用后台脚本，或在模型同步页确认全局同步功能可正常运行。</td></tr></tbody></table><h2 id="关联文档" tabindex="-1"><a class="header-anchor" href="#关联文档"><span>关联文档</span></a></h2>',24)),a("ul",null,[a("li",null,[o(n,{to:"/new-api-model-sync.html"},{default:s(()=>t[0]||(t[0]=[e("New API 模型列表同步",-1)])),_:1,__:[0]}),t[1]||(t[1]=e("：自动批量同步渠道模型。",-1))]),a("li",null,[o(n,{to:"/get-started.html#_4-%E5%BF%AB%E9%80%9F%E5%AF%BC%E5%87%BA%E7%AB%99%E7%82%B9"},{default:s(()=>t[2]||(t[2]=[e("快速导出与集成",-1)])),_:1,__:[2]}),t[3]||(t[3]=e("：了解如何把渠道推送到下游应用。",-1))])])])}const u=r(c,[["render",p]]),w=JSON.parse('{"path":"/new-api-channel-management.html","title":"New API 渠道管理","lang":"zh-CN","frontmatter":{},"git":{"updatedTime":1763877347000,"contributors":[{"name":"anime","username":"anime","email":"street-anime-olive@duck.com","commits":2,"url":"https://github.com/anime"}],"changelog":[{"hash":"bbe2b901b010fdf594c120b34e9d69dab69c6911","time":1763877347000,"email":"street-anime-olive@duck.com","author":"anime","message":"docs: add new API channel management screenshots"},{"hash":"3e12dfb7adddbcc384a6037911ecae32b41b8b6a","time":1763874981000,"email":"street-anime-olive@duck.com","author":"anime","message":"docs: add New API channel management beta UI and documentation"}]},"filePathRelative":"new-api-channel-management.md"}');export{u as comp,w as data};
