import{_ as l,c as r,a as s,b as t,e as o,w as n,r as c,o as u,d as a}from"./app-D5j5mBUF.js";const d={};function m(p,e){const i=c("RouteLink");return u(),r("div",null,[e[3]||(e[3]=s('<blockquote><p>One-click import of relay station accounts to the local CLIProxyAPI management interface, automatically generating OpenAI-compatible provider configurations to avoid manual configuration file maintenance.</p></blockquote><h1 id="cliproxyapi-integration-and-one-click-import" tabindex="-1"><a class="header-anchor" href="#cliproxyapi-integration-and-one-click-import"><span>CLIProxyAPI Integration and One-Click Import</span></a></h1><h2 id="feature-overview" tabindex="-1"><a class="header-anchor" href="#feature-overview"><span>Feature Overview</span></a></h2><ul><li><strong>Management Interface Integration</strong><ul><li>Read and write back configurations via CLIProxyAPI&#39;s Management API (<code>/openai-compatibility</code>).</li><li>Supports appending/updating API Keys on existing providers, or automatically creating new providers.</li></ul></li><li><strong>One-Click Key Import</strong><ul><li>Click &quot;Import to CLIProxyAPI&quot; in the key list to write the current site&#39;s Base URL and key to CLIProxyAPI.</li></ul></li><li><strong>Avoid Duplicate Configurations</strong><ul><li>Automatically reuses site names and <code>Base URL</code>. If the same provider is detected, only the key list will be updated, and no duplicate entries will be created.</li></ul></li></ul><h2 id="prerequisites" tabindex="-1"><a class="header-anchor" href="#prerequisites"><span>Prerequisites</span></a></h2><ul><li>A compatible <strong>CLIProxyAPI</strong> is deployed or running, with the management interface enabled: <ul><li>Example address: <code>http://localhost:8317/v0/management</code></li><li>Supports <code>GET/PUT/PATCH /openai-compatibility</code> and other interfaces.</li></ul></li><li>Possess the <strong>Management Key</strong> for the management interface (used for authentication).</li><li>In All API Hub, the following has been completed: <ul><li>At least one relay station account has been added and an available key obtained.</li></ul></li></ul><h2 id="setup-entry" tabindex="-1"><a class="header-anchor" href="#setup-entry"><span>Setup Entry</span></a></h2><ol><li>Open the plugin ‚Üí Go to the <strong>Settings</strong> page.</li><li>Switch to the <strong>&quot;CLIProxyAPI&quot;</strong> group (<code>Basic Settings ‚Üí CLIProxyAPI</code> tab).</li><li>Fill in the following fields: <ul><li><strong>Management Interface Base URL</strong>: e.g., <code>http://localhost:8317/v0/management</code></li><li><strong>Management Key</strong>: The key used to access the management interface.</li></ul></li><li>After saving, the configuration will be stored in local preferences for subsequent import operations.</li></ol><h2 id="one-click-import-from-key-list" tabindex="-1"><a class="header-anchor" href="#one-click-import-from-key-list"><span>One-Click Import from Key List</span></a></h2><ol><li>Open the plugin ‚Üí Go to the <strong>Key Management</strong> page.</li><li>Find the site key card you want to import to CLIProxyAPI.</li><li>Click the CLIProxyAPI icon button to the right of the key (usually next to the CherryStudio / CC Switch / New API buttons).</li><li>The plugin will: <ul><li>Read CLIProxyAPI configuration (Base URL and Management Key).</li><li>Use the site&#39;s <code>Base URL</code> to generate an OpenAI-compatible address (automatically appends <code>/v1</code>).</li><li>Use the site name or Base URL as the provider name.</li><li>(Optional) Configure <strong>Model Mapping</strong> (original model ‚Üí alias) in the import pop-up; the pop-up will attempt to fetch the model list from the upstream <code>/v1/models</code> for easy selection of original models.</li><li>Call CLIProxyAPI: <ul><li>If a provider with the same name or <code>base-url</code> already exists: <ul><li>Deduplicate and append the current key to <code>api-key-entries</code>.</li></ul></li><li>If it does not exist: <ul><li>Create a new provider entry, containing only the current key and basic information.</li></ul></li></ul></li></ul></li><li>After the operation is complete, you will see an import result notification in the upper right corner (success/failure and error reason).</li></ol><h2 id="effects-after-importing-to-cliproxyapi" tabindex="-1"><a class="header-anchor" href="#effects-after-importing-to-cliproxyapi"><span>Effects After Importing to CLIProxyAPI</span></a></h2><ul><li>In CLIProxyAPI&#39;s configuration, a similar structure will be added or updated: <ul><li><code>name</code>: Derived from the site name (or Base URL).</li><li><code>base-url</code>: Uniformly points to the corresponding relay station&#39;s <code>/v1</code> OpenAI-compatible interface.</li><li><code>api-key-entries</code>: Contains one or more <code>api-key</code> records, which can be further manually edited in CLIProxyAPI.</li></ul></li><li>This means: <ul><li>Keys for multiple upstream relay stations can be uniformly managed at the CLIProxyAPI layer.</li><li>All API Hub is responsible for synchronizing basic configuration information, and subsequent details can be customized within CLIProxyAPI.</li></ul></li></ul><h2 id="common-issues" tabindex="-1"><a class="header-anchor" href="#common-issues"><span>Common Issues</span></a></h2><ul><li><strong>Prompt: CLIProxyAPI not configured</strong><ul><li>Check if the Base URL and Management Key are filled in <strong>Settings ‚Üí CLIProxyAPI</strong>.</li><li>Ensure that <code>/openai-compatibility</code> is not redundantly included; it should be the management interface prefix, e.g., <code>.../v0/management</code>.</li></ul></li><li><strong>Returns 401/403 or other HTTP errors</strong><ul><li>Confirm that the Management Key is correct and that the current account has permission to access the management interface.</li><li>Check CLIProxyAPI backend logs to confirm if routes and methods (GET/PUT/PATCH) are enabled.</li></ul></li><li><strong>Will repeated imports generate many records?</strong><ul><li>No. The plugin will look for existing providers based on <code>base-url</code> or name: <ul><li>If it exists, only <code>api-key-entries</code> will be updated, and duplicate keys will be removed.</li><li>If it does not exist, a new provider will be created.</li></ul></li></ul></li></ul><h2 id="usage-recommendations" tabindex="-1"><a class="header-anchor" href="#usage-recommendations"><span>Usage Recommendations</span></a></h2><ul><li>It is recommended to verify the import effect on a small number of test accounts before using it in a production environment.</li><li>It can be used in conjunction with All API Hub&#39;s <strong>Quick Export</strong> feature to synchronize the same batch of upstream sites to various downstream systems such as New API / CLIProxyAPI.</li></ul><h2 id="related-documentation" tabindex="-1"><a class="header-anchor" href="#related-documentation"><span>Related Documentation</span></a></h2>',17)),t("ul",null,[t("li",null,[o(i,{to:"/en/quick-export.html"},{default:n(()=>e[0]||(e[0]=[a("Quick Export Site Configuration",-1)])),_:1,__:[0]})]),t("li",null,[o(i,{to:"/en/new-api-channel-management.html"},{default:n(()=>e[1]||(e[1]=[a("New API Channel Management",-1)])),_:1,__:[1]})]),t("li",null,[o(i,{to:"/en/new-api-model-sync.html"},{default:n(()=>e[2]||(e[2]=[a("New API Model List Synchronization",-1)])),_:1,__:[2]})])])])}const g=l(d,[["render",m]]),f=JSON.parse('{"path":"/en/cliproxyapi-integration.html","title":"CLIProxyAPI Integration and One-Click Import","lang":"en-US","frontmatter":{},"git":{"updatedTime":1768312619000,"contributors":[{"name":"github-actions[bot]","username":"github-actions[bot]","email":"41898282+github-actions[bot]@users.noreply.github.com","commits":2,"url":"https://github.com/github-actions[bot]"},{"name":"qixing-jk","username":"qixing-jk","email":"125447674+qixing-jk@users.noreply.github.com","commits":2,"url":"https://github.com/qixing-jk"},{"name":"anime","username":"anime","email":"street-anime-olive@duck.com","commits":1,"url":"https://github.com/anime"}],"changelog":[{"hash":"a5fb0adadece4024bd2803e20776ae2e75191366","time":1768312619000,"email":"41898282+github-actions[bot]@users.noreply.github.com","author":"github-actions[bot]","message":"üåê Auto-translate documentation (#353)","coAuthors":[{"name":"qixing-jk","email":"125447674+qixing-jk@users.noreply.github.com"}]},{"hash":"4c8982c28b76d99182a86ef08f14493c32cf154c","time":1764961437000,"email":"41898282+github-actions[bot]@users.noreply.github.com","author":"github-actions[bot]","message":"üåê Auto-translate documentation (#240)","coAuthors":[{"name":"qixing-jk","email":"125447674+qixing-jk@users.noreply.github.com"},{"name":"anime","email":"street-anime-olive@duck.com"}]}]},"filePathRelative":"en/cliproxyapi-integration.md"}');export{g as comp,f as data};
