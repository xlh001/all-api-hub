import{_ as r,c as l,a as s,b as t,e as n,w as o,r as c,o as u,d as a}from"./app-BV8fPQx1.js";const d={};function m(p,e){const i=c("RouteLink");return u(),l("div",null,[e[3]||(e[3]=s('<h1 id="cliproxyapi-integration-and-one-click-import" tabindex="-1"><a class="header-anchor" href="#cliproxyapi-integration-and-one-click-import"><span>CLIProxyAPI Integration and One-Click Import</span></a></h1><blockquote><p>Import relay station accounts to the local CLIProxyAPI management interface with one click, automatically generating OpenAI-compatible provider configurations and avoiding manual configuration file maintenance.</p></blockquote><h2 id="feature-overview" tabindex="-1"><a class="header-anchor" href="#feature-overview"><span>Feature Overview</span></a></h2><ul><li><strong>Management Interface Docking</strong><ul><li>Reads and writes configurations via CLIProxyAPI&#39;s Management API (<code>/openai-compatibility</code>).</li><li>Supports appending/updating API Keys on existing providers, or automatically creating new providers.</li></ul></li><li><strong>One-Click Key Import</strong><ul><li>Click &quot;Import to CLIProxyAPI&quot; in the key list to write the current site&#39;s Base URL and key to CLIProxyAPI.</li></ul></li><li><strong>Avoid Duplicate Configurations</strong><ul><li>Automatically reuses site names and <code>Base URL</code>. If the same provider is detected, only the key list is updated, and no duplicate entries are created.</li></ul></li></ul><h2 id="prerequisites" tabindex="-1"><a class="header-anchor" href="#prerequisites"><span>Prerequisites</span></a></h2><ul><li><strong>CLIProxyAPI</strong> is deployed or running and compatible, with the management interface enabled: <ul><li>Example address: <code>http://localhost:8317/v0/management</code></li><li>Supports <code>GET/PUT/PATCH /openai-compatibility</code> and other interfaces.</li></ul></li><li>Possess the <strong>Management Key</strong> for the management interface (for authentication).</li><li>In All API Hub, the following has been completed: <ul><li>At least one relay station account added and available keys obtained.</li></ul></li></ul><h2 id="setup-entry" tabindex="-1"><a class="header-anchor" href="#setup-entry"><span>Setup Entry</span></a></h2><ol><li>Open the plugin ‚Üí Go to the <strong>Settings</strong> page.</li><li>Switch to the <strong>&quot;CLIProxyAPI&quot;</strong> group (<code>Basic Settings ‚Üí CLIProxyAPI</code> tab).</li><li>Fill in the following fields: <ul><li><strong>Management Interface Base URL</strong>: For example, <code>http://localhost:8317/v0/management</code></li><li><strong>Management Key</strong>: The key used to access the management interface.</li></ul></li><li>After saving, the configuration will be stored in local preferences for subsequent import operations.</li></ol><h2 id="one-click-import-from-key-list" tabindex="-1"><a class="header-anchor" href="#one-click-import-from-key-list"><span>One-Click Import from Key List</span></a></h2><ol><li>Open the plugin ‚Üí Go to the <strong>Key Management</strong> page.</li><li>Find the site key card you want to import to CLIProxyAPI.</li><li>Click the CLIProxyAPI icon button to the right of the key (usually next to the CherryStudio / CC Switch / New API button).</li><li>The plugin will: <ul><li>Read CLIProxyAPI configuration (Base URL and management key).</li><li>Generate an OpenAI-compatible address using the site&#39;s <code>Base URL</code> (automatically appends <code>/v1</code>).</li><li>Use the site name or Base URL as the provider name.</li><li>Call CLIProxyAPI: <ul><li>If a provider with the same name or <code>base-url</code> already exists: <ul><li>Append the current key to <code>api-key-entries</code> after deduplication.</li></ul></li><li>If it does not exist: <ul><li>Create a new provider entry, containing only the current key and basic information.</li></ul></li></ul></li></ul></li><li>After the operation is complete, you will see an import result prompt in the upper right corner (success/failure and error reason).</li></ol><h2 id="effect-after-importing-to-cliproxyapi" tabindex="-1"><a class="header-anchor" href="#effect-after-importing-to-cliproxyapi"><span>Effect After Importing to CLIProxyAPI</span></a></h2><ul><li>In CLIProxyAPI&#39;s configuration, a new or updated structure similar to this will be added: <ul><li><code>name</code>: Derived from the site name (or Base URL).</li><li><code>base-url</code>: Uniformly points to the corresponding relay station&#39;s <code>/v1</code> OpenAI-compatible interface.</li><li><code>api-key-entries</code>: Contains one or more <code>api-key</code> records, which can continue to be manually edited in CLIProxyAPI.</li></ul></li><li>This means: <ul><li>Multiple upstream relay station keys can be centrally managed at the CLIProxyAPI layer.</li><li>All API Hub is responsible for synchronizing basic configuration information, and subsequent details can be customized within CLIProxyAPI.</li></ul></li></ul><h2 id="frequently-asked-questions" tabindex="-1"><a class="header-anchor" href="#frequently-asked-questions"><span>Frequently Asked Questions</span></a></h2><ul><li><strong>Prompt: CLIProxyAPI is not configured</strong><ul><li>Check if the Base URL and management key have been filled in <strong>Settings ‚Üí CLIProxyAPI</strong>.</li><li>Ensure that <code>/openai-compatibility</code> is not redundantly included; it should be the management interface prefix, e.g., <code>.../v0/management</code>.</li></ul></li><li><strong>Returns 401/403 or other HTTP errors</strong><ul><li>Confirm that the management key is correct and that the current account has permission to access the management interface.</li><li>Check the CLIProxyAPI backend logs to confirm whether the route and method (GET/PUT/PATCH) are enabled.</li></ul></li><li><strong>Will repeated imports generate many records?</strong><ul><li>No. The plugin will search for existing providers based on <code>base-url</code> or name: <ul><li>If it exists, only <code>api-key-entries</code> will be updated, with deduplication for the same key.</li><li>If it does not exist, a new provider will be created.</li></ul></li></ul></li></ul><h2 id="usage-recommendations" tabindex="-1"><a class="header-anchor" href="#usage-recommendations"><span>Usage Recommendations</span></a></h2><ul><li>It is recommended to verify the import effect on a small number of test accounts before using it in a production environment.</li><li>It can be used in conjunction with All API Hub&#39;s <strong>Quick Export</strong> feature to synchronize the same batch of upstream sites to various downstream systems such as New API / CLIProxyAPI.</li></ul><h2 id="related-documentation" tabindex="-1"><a class="header-anchor" href="#related-documentation"><span>Related Documentation</span></a></h2>',17)),t("ul",null,[t("li",null,[n(i,{to:"/en/quick-export.html"},{default:o(()=>e[0]||(e[0]=[a("Quick Export Site Configuration",-1)])),_:1,__:[0]})]),t("li",null,[n(i,{to:"/en/new-api-channel-management.html"},{default:o(()=>e[1]||(e[1]=[a("New API Channel Management",-1)])),_:1,__:[1]})]),t("li",null,[n(i,{to:"/en/new-api-model-sync.html"},{default:o(()=>e[2]||(e[2]=[a("New API Model List Synchronization",-1)])),_:1,__:[2]})])])])}const g=r(d,[["render",m]]),y=JSON.parse('{"path":"/en/cliproxyapi-integration.html","title":"CLIProxyAPI Integration and One-Click Import","lang":"en-US","frontmatter":{},"git":{"updatedTime":1764961437000,"contributors":[{"name":"github-actions[bot]","username":"github-actions[bot]","email":"41898282+github-actions[bot]@users.noreply.github.com","commits":1,"url":"https://github.com/github-actions[bot]"},{"name":"qixing-jk","username":"qixing-jk","email":"125447674+qixing-jk@users.noreply.github.com","commits":1,"url":"https://github.com/qixing-jk"},{"name":"anime","username":"anime","email":"street-anime-olive@duck.com","commits":1,"url":"https://github.com/anime"}],"changelog":[{"hash":"4c8982c28b76d99182a86ef08f14493c32cf154c","time":1764961437000,"email":"41898282+github-actions[bot]@users.noreply.github.com","author":"github-actions[bot]","message":"üåê Auto-translate documentation (#240)","coAuthors":[{"name":"qixing-jk","email":"125447674+qixing-jk@users.noreply.github.com"},{"name":"anime","email":"street-anime-olive@duck.com"}]}]},"filePathRelative":"en/cliproxyapi-integration.md"}');export{g as comp,y as data};
