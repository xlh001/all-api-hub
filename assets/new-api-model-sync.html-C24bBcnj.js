import{_ as e}from"./new-api-channel-sync-BpHPktwp.js";import{_ as n,c as o,a as s,o as r}from"./app-CtgLb2Fx.js";const i={};function a(l,t){return r(),o("div",null,t[0]||(t[0]=[s('<h1 id="new-api-model-list-synchronization" tabindex="-1"><a class="header-anchor" href="#new-api-model-list-synchronization"><span>New API Model List Synchronization</span></a></h1><p>An automated feature for New API administrators that synchronizes the model lists of all channels, ensuring they remain consistent with upstream providers without manual updates.</p><p><img src="'+e+'" alt="Model List Sync UI"></p><h2 id="feature-overview" tabindex="-1"><a class="header-anchor" href="#feature-overview"><span>Feature Overview</span></a></h2><p><strong>Key Features</strong>:</p><ul><li>üîÑ <strong>Auto-Sync</strong>: Automatically synchronizes model lists for all channels at a configured interval.</li><li>üéØ <strong>Flexible Control</strong>: Supports full sync, selective sync, or retrying only failed items.</li><li>‚ö° <strong>Smart Rate Limiting</strong>: Built-in token bucket algorithm to avoid hitting API rate limits.</li><li>üîÅ <strong>Auto-Retry</strong>: Automatically retries failed tasks to improve sync success rates.</li><li>üìä <strong>Real-time Progress</strong>: Displays real-time progress and detailed statistics during synchronization.</li><li>üìú <strong>History Records</strong>: Provides complete execution history and result filtering.</li></ul><p><strong>Target Audience</strong>: New API site administrators.</p><h2 id="prerequisites" tabindex="-1"><a class="header-anchor" href="#prerequisites"><span>Prerequisites</span></a></h2><p>Before using this feature, you must complete the following configuration on the <strong>Basic Settings</strong> page:</p><table><thead><tr><th>Setting</th><th>Description</th><th>How to Obtain</th></tr></thead><tbody><tr><td><strong>New API Base URL</strong></td><td>Your New API site address</td><td>e.g., <code>https://your-site.com</code></td></tr><tr><td><strong>Admin Token</strong></td><td>Your administrator token</td><td>New API Backend ‚Üí Settings ‚Üí Token Management</td></tr><tr><td><strong>User ID</strong></td><td>Your administrator user ID</td><td>New API Backend ‚Üí User Management</td></tr></tbody></table><div class="hint-container warning"><p class="hint-container-title">Note</p><p>The model sync feature cannot be used until the above information is configured. Once configured, you can access the sync page by clicking <strong>&quot;View Execution &amp; Results&quot;</strong> in <strong>Settings ‚Üí New API Integration Settings</strong>.</p></div><h2 id="how-to-use" tabindex="-1"><a class="header-anchor" href="#how-to-use"><span>How to Use</span></a></h2><p><strong>Accessing the Feature Page</strong>:</p><ol><li>Go to <strong>Settings ‚Üí Basic Settings</strong>.</li><li>Find the <strong>New API Integration Settings</strong> section.</li><li>Click the <strong>&quot;View Execution &amp; Results&quot;</strong> button.</li></ol><p><strong>Manual Sync Options</strong>:</p><table><thead><tr><th>Action</th><th>Description</th><th>Use Case</th></tr></thead><tbody><tr><td><strong>Run All</strong></td><td>Synchronizes the model lists for all channels.</td><td>For initial setup or a full update.</td></tr><tr><td><strong>Run Selected</strong></td><td>Synchronizes only the checked channels.</td><td>For updating specific channels.</td></tr><tr><td><strong>Retry Failed Only</strong></td><td>Re-runs only the channels that failed in the last attempt.</td><td>For a quick fix after resolving network issues.</td></tr><tr><td><strong>Refresh Results</strong></td><td>Reloads the execution history.</td><td>To view the latest sync status.</td></tr></tbody></table><p><strong>Viewing and Filtering Results</strong>:</p><ul><li><strong>Status Filter</strong>: Toggle between <strong>&quot;All&quot;</strong> / <strong>&quot;Success&quot;</strong> / <strong>&quot;Failed&quot;</strong> to filter results.</li><li><strong>Search</strong>: Search by channel name, ID, or error message.</li><li><strong>Details</strong>: The table shows the old model list, new model list, HTTP status code, and error message for each channel.</li><li><strong>Individual Retry</strong>: Click <strong>&quot;Sync this channel&quot;</strong> in the actions column to re-sync a single channel.</li></ul><p><strong>Statistics Card Explained</strong>:</p><ul><li><strong>Total Channels</strong>: The number of channels involved in the sync.</li><li><strong>Success Count</strong>: The number of successfully synced channels.</li><li><strong>Failure Count</strong>: The number of channels that failed to sync.</li><li><strong>Duration</strong>: The total time taken for the sync task.</li><li><strong>Next Scheduled Time</strong>: The next execution time when auto-sync is enabled.</li></ul><h2 id="configuration-options" tabindex="-1"><a class="header-anchor" href="#configuration-options"><span>Configuration Options</span></a></h2><p>The following options can be configured in <strong>Settings ‚Üí Basic Settings ‚Üí New API Integration Settings</strong>:</p><table><thead><tr><th>Setting</th><th>Default</th><th>Recommended Range</th><th>Description</th></tr></thead><tbody><tr><td><strong>Enable Auto-Sync</strong></td><td>Off</td><td>-</td><td>Automatically performs synchronization at the set interval.</td></tr><tr><td><strong>Execution Interval</strong></td><td>6 hours</td><td>1-24 hours</td><td>The time interval for automatic synchronization.</td></tr><tr><td><strong>Concurrency</strong></td><td>2</td><td>1-3</td><td>The number of channels to process simultaneously. Avoid setting too high to prevent rate limiting.</td></tr><tr><td><strong>Max Retries</strong></td><td>3</td><td>2-5</td><td>The number of automatic retries on failure.</td></tr><tr><td><strong>Requests Per Minute</strong></td><td>20</td><td>10-30</td><td>API rate limit. Adjust based on server performance.</td></tr><tr><td><strong>Burst Limit</strong></td><td>5</td><td>3-10</td><td>Token bucket capacity, allowing for short bursts of requests.</td></tr></tbody></table><p><strong>Best Practice Recommendations</strong>:</p><ol><li><strong>Concurrency</strong>: A value of 1-3 is recommended to avoid excessive server load.</li><li><strong>Execution Interval</strong>: Choose based on how often models are updated; 6-12 hours is generally sufficient.</li><li><strong>Rate Limiting</strong>: If you encounter frequent 429 errors, lower the &quot;Requests Per Minute.&quot;</li><li><strong>Retry Strategy</strong>: The default of 3 retries is usually enough to handle temporary network issues.</li></ol><div class="hint-container tip"><p class="hint-container-title">Performance Optimization</p><ul><li>For a large number of channels (&gt;50), consider reducing concurrency to 1-2.</li><li>If your server performance is strong, you can increase &quot;Requests Per Minute&quot; to 30.</li><li>Once auto-sync is enabled, there is no need for frequent manual triggers.</li></ul></div><h2 id="common-issues" tabindex="-1"><a class="header-anchor" href="#common-issues"><span>Common Issues</span></a></h2><p><strong>What to do if synchronization fails?</strong></p><p>Take action based on the error message:</p><table><thead><tr><th>Error Type</th><th>Possible Cause</th><th>Solution</th></tr></thead><tbody><tr><td><strong>Configuration Missing</strong></td><td>New API settings are incomplete.</td><td>Verify that the Base URL, Admin Token, and User ID are correctly filled in.</td></tr><tr><td><strong>401 Unauthorized</strong></td><td>The Admin Token is invalid.</td><td>Regenerate the Admin Token and update the configuration.</td></tr><tr><td><strong>429 Rate Limited</strong></td><td>Requests are too frequent.</td><td>Lower the &quot;Requests Per Minute&quot; or &quot;Concurrency&quot; settings.</td></tr><tr><td><strong>500 Server Error</strong></td><td>The New API service is down.</td><td>Check the status of your New API service and retry later.</td></tr><tr><td><strong>Network Timeout</strong></td><td>Unstable network connection.</td><td>Check your network and use the &quot;Retry Failed Only&quot; option.</td></tr></tbody></table><p><strong>How to interpret the sync results?</strong></p><ul><li><strong>Old Model List</strong>: The channel&#39;s model configuration before the sync.</li><li><strong>New Model List</strong>: The latest model list fetched from the upstream provider.</li><li><strong>HTTP Status Code</strong>: The response status of the API request (200 means success).</li><li><strong>Attempts</strong>: The total number of execution attempts, including retries.</li></ul><p><strong>Performance Considerations</strong>:</p><ul><li>The initial sync or a sync with many channels may take longer, which is normal.</li><li>It is recommended to run large-scale syncs during periods of low server load.</li><li>Auto-sync runs silently in the background and does not affect other extension features.</li></ul><p><strong>Important Notes</strong>:</p><div class="hint-container warning"><p class="hint-container-title">Important</p><ul><li>The sync operation will directly modify the model list configuration of your New API channels.</li><li>Please ensure you have backed up important configurations before running a sync.</li><li>It is recommended to test the sync feature in a staging environment first.</li><li>Frequent synchronization can impact server performance; set a reasonable execution interval.</li></ul></div>',36)]))}const u=n(i,[["render",a]]),g=JSON.parse('{"path":"/en/new-api-model-sync.html","title":"New API Model List Synchronization","lang":"en-US","frontmatter":{},"git":{"updatedTime":1761756392000,"contributors":[{"name":"anime","username":"anime","email":"street-anime-olive@duck.com","commits":1,"url":"https://github.com/anime"}],"changelog":[{"hash":"549a05992222d81afadf9bab9c4fa6ff4f31233b","time":1761756392000,"email":"street-anime-olive@duck.com","author":"anime","message":"docs: add documentation for New API model synchronization feature"}]},"filePathRelative":"en/new-api-model-sync.md"}');export{u as comp,g as data};
