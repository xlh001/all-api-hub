# 兑换助手（Redemption Assist）

> 帮你一键识别兑换码，一键兑换，省去反复复制粘贴。

## 功能概览

- **自动识别兑换码**：在网页上点击、选中或复制文本时，插件会从中尝试识别出兑换码，无需手动逐字符核对。
- **贴心弹窗提示**：检测到疑似兑换码后，在右下角弹出一块小提示卡片，提示你是否要立即兑换。
- **智能匹配账号**：根据当前页面地址，自动从 All API Hub 中查找最匹配的站点账号，不用再自己翻找列表.
- **一键完成兑换**：点一下「自动兑换」，插件会在后台发起请求，并以提示气泡的形式展示兑换结果.
- **独立开关**：可在设置中单独启用/关闭兑换助手，不会影响其他功能模块.

## 使用前提

1. **All API Hub 中已有对应站点账号**：
   - 至少有一个账号可以正常使用，且余额、权限均无异常.
2. **页面上真实存在兑换码**：
   - 常见形式包括「今日兑换码」「礼包码」「签到码」等，通常是长度为 32 位的字符组合.

---

## 使用教程

### 教程一：从零开始配置兑换助手


1. **添加至少一个目标站点账号**
   - 在账号管理中添加需要使用兑换码的站点账号，并确保能正常登录与访问.

2. **开启兑换助手开关（已默认开启）**
   - 在「基础设置」页开启「兑换助手」，并保持其他默认设置即可正常使用.

3. **为账号补充自定义签到/兑换地址（推荐）**
   - 打开账号编辑页，找到「自定义签到/兑换地址」.
   - 将你平时直接访问兑换页面的地址填入，方便系统更精准地匹配当前页面与账号.

完成以上步骤后，即可开始体验全局兑换辅助能力.

### 教程二：日常使用中的典型兑换流程

1. **打开含有兑换码的页面**
   - 例如：活动公告页、签到奖励页、频道消息等.
   - 页面上通常会出现一段 32 位字符串作为兑换码.

2. **触发检测动作**
   - 对兑换码执行以下任一操作即可：
     - 鼠标拖动选中兑换码;
     - 使用快捷键复制兑换码;
     - 在部分页面中点击可复制区域.

3. **观察右下角的兑换助手提示**
   - 当系统识别到疑似兑换码时，会在右下角弹出提示卡片，显示脱敏后的兑换码预览.

4. **确认并发起自动兑换**
   - 点击卡片中的「自动兑换」.
   - 插件会根据当前页面 URL 自动选择最合适的账号发起兑换请求.

5. **查看结果提示**
   - 成功时：
     - 通常会显示「兑换成功」以及到账额度等信息;
   - 失败时：
     - 会显示失败原因（例如兑换码无效，兑换码已被使用等），或通用失败提示.

### 教程三：多账号场景下如何选择合适账号

1. **当同一站点存在多个可用账号时**
   - 兑换助手会弹出「账号选择」，而不是直接使用任意账号.

2. **在弹窗中查看账号信息**
   - 你可以看到账户名称、站点地址、备注等关键信息.
   - 若账号较多，可以借助搜索过滤快速定位目标账号.

3. **选择一个账号并确认兑换**
   - 选中一个最合适的账号后，点击确认，系统会对所选账号执行实际兑换操作.

---


### 如何提高一键兑换的成功率

若希望尽量做到「点一次自动兑换就搞定」，可以重点优化以下两点：

- **为常用账号配置自定义签到/兑换地址**：
  - 在账号编辑页中，找到「自定义签到/兑换地址」，填入你实际用于兑换的页面地址;
  - 这样系统在根据 URL 匹配账号时会更加准确，减少多账号歧义.

满足以上条件后，大部分情况下点击「自动兑换」即可直接成功，很少再需要你手动选择账号.

---

## 常见问题

### Q1：页面上明明有兑换码，却没有弹出提示？

可能原因：

- 未在设置中启用「兑换助手」;
- 你没有对兑换码执行选择或复制等操作，插件没有机会读取文本;
- 兑换码不是标准的 32 位字符串，或中间包含空格、特殊符号导致无法识别;
- 浏览器或其他插件限制了脚本运行或剪贴板访问（如极端隐身模式、某些安全插件拦截）。

建议排查步骤：

1. 在 All API Hub 设置中确认「兑换助手」已开启;
2. 在账号管理中确认已添加当前站点账号且能正常访问;
3. 在常用桌面浏览器（Chrome / Edge / Firefox）中重试;
4. 如仍无效，可在仓库 Issues 中附上站点截图与调试信息反馈.

### Q2：自动兑换会影响账号安全吗？

- 兑换助手逻辑仅在本地浏览器内执行，不会将账号信息或兑换码上传到第三方服务器;
- 所有 API 请求均直接发往对应聚合站点;
- 建议配合浏览器自身的密码与隐私保护策略一起使用，例如浏览器密码管理、隐私模式等.

## 相关文档

- [自动签到与签到监控](./auto-checkin.md)
