---
title: Octopus チャネル管理
description: プラグイン内でOctopusサイトのチャネルを管理します。
---

# Octopus チャネル管理

> 🧪 この機能は現在ベータ段階にあり、プラグイン内でOctopusサイトのチャネルを直接管理することをサポートしています。

## 機能概要

- 📋 **チャネルの概要とフィルタリング**：すべてのチャネルの名前、タイプ、モデル数、およびステータスを一目で確認でき、キーワード検索とステータスフィルタリングをサポートします。
- ✏️ **クイック作成 / 編集**：ポップアップフォームはOctopusのフィールド定義に適合しており、モデルリストとステータスを設定できます。
- 🔄 **モデル同期**：アップストリームから最新のモデルリストを自動的にプルすることをサポートします。
- 🗑️ **安全な削除**：一括選択後に削除をトリガーする前に再度確認を行い、本番チャネルの誤削除を防ぎます。
- 📦 **キーのインポート**：アカウント管理からAPI KeyをOctopusチャネルに直接インポートします。

## New API との差異

Octopus と New API には、アーキテクチャ上にいくつかの重要な差異があります：

| 比較項目 | New API | Octopus |
|--------|---------|---------|
| 認証方法 | Admin Token + User ID | ユーザー名 + パスワード（JWT） |
| チャネルタイプ | 55種類以上 | 6種類 |
| グループの概念 | ユーザーグループ | 外部モデルID（異なる概念） |
| 優先度/重み | サポート | 非サポート |

したがって、Octopusモードでは：
- **グループフィールドの非表示**：Octopusの「グループ」は外部モデルIDであり、New APIとは完全に異なります
- **優先度/重み付けの非表示**：Octopusはこれらの概念をサポートしていません
- **チャネルタイプのオプション**：Octopusがサポートする6種類のみが表示されます

## 前提条件

| 設定項目 | 説明 |
|--------|------|
| **Octopus ベースURL** | Octopusサイトのアドレス。例： `https://octopus.example.com` |
| **ユーザー名** | Octopusログインユーザー名 |
| **パスワード** | Octopusログインパスワード |

> プラグインで **設定 → 基本設定 → Octopus サイト設定** を開き、上記の情報を入力して保存してください。システムが自動的にログインとJWTトークンの管理を処理します。

## 機能ページへのアクセス方法

1. 拡張機能のポップアップを開き、左側の **「設定」** をクリックします。
2. **基本設定 → 自社サイト管理** で **「Octopus」** を選択します。
3. Octopusサイトの設定を入力した後、**「設定を検証」** をクリックして接続が正常であることを確認します。
4. 設定ページで **「自社サイトチャネル管理」** を選択すると、リモートチャネルリストが自動的にロードされます。

## チャネルリストビュー

- **検索ボックス**：名前 / ベースURLのキーワードによるあいまい検索をサポートします。
- **ステータスフィルタリング**：有効または無効になっているチャネルを素早く確認できます。
- **カスタム列**：列セレクターを通じて表示する列を制御します（グループ列はOctopusモードではデフォルトで非表示です）。
- **一括操作バー**：行の前にチェックを入れることで、一括削除または一括同期を開始できます。

## チャネルの作成または編集

1. 右上隅の **「新規チャネル」** をクリックするか、行末のメニューで **「編集」** を選択します。
2. ポップアップウィンドウで以下を入力します：
   - **基本情報**：名前、タイプ、API Key、ベースURL。
   - **モデルリスト**：すべて選択、選択解除、クリアをサポートし、カスタムモデルを手動で入力することもできます。
   - **ステータス**：有効/無効。
3. **「保存」** をクリックすると、システムはOctopusのチャネルインターフェースを呼び出し、成功するとリストが自動的に更新されます。

### Octopus チャネルタイプ

| タイプ値 | 名称 | 説明 |
|--------|------|------|
| 0 | OpenAI Chat | OpenAI チャット補完 API |
| 1 | OpenAI Response | OpenAI レスポンスモード |
| 2 | Anthropic | Claude API |
| 3 | Gemini | Google Gemini API |
| 4 | Volcengine | 火山エンジン API |
| 5 | OpenAI Embedding | OpenAI エンベディング API |

## 鍵管理からのインポート

1. **鍵管理** ページで、アカウントのAPI Keyを選択します。
2. **「Octopusにインポート」** ボタンをクリックします。
3. システムは自動的に以下を行います：
   - アップストリームの利用可能なモデルリストを取得
   - チャネル名を構築（形式：`サイト名 | キー名 (auto)`）
   - ベースURLに `/v1` サフィックスを追加（Octopusのルール）
   - デフォルトで自動同期機能を有効化
4. インポート成功後、チャネル管理ページで確認できます。

## モデル同期

Octopusのモデル同期は、Octopusの `/api/v1/channel/fetch-model` インターフェースを呼び出し、アップストリームから最新のモデルリストを自動的にプルします。

1. チャネルリストで行末の **「同期」** ボタンをクリックして、単一チャネルの同期をトリガーします。
2. または、複数のチャネルにチェックを入れて **「一括同期」** をクリックし、一括操作を行います。
3. **モデル同期** ページでグローバル同期操作を行うこともできます。

## よくある質問

| 問題 | 解決策 |
|------|----------|
| チャネルリストが空である | Octopusの設定が完全に記入されているか確認し、「設定を検証」をクリックして接続が正常であることを確認してください。 |
| ログイン失敗 | ユーザー名とパスワードが正しいこと、およびOctopusサイトにアクセス可能であることを確認してください。 |
| インポート時にエラーが発生する | ソースアカウントに有効なAPI Keyがあるか、アップストリームサイトにアクセス可能か確認してください。 |
| タイプがUnknownと表示される | Octopusが未知のタイプ値を返した可能性があります。チャネル設定を確認してください。 |

## 関連ドキュメント

- [New API チャネル管理](./new-api-channel-management.md)：New APIサイトのチャネル管理。
- [New API モデルリスト同期](./new-api-model-sync.md)：チャネルモデルの自動一括同期。
- [クイックエクスポートと統合](./get-started.md#quick-export-sites)：チャネルをダウンストリームアプリケーションにプッシュする方法を理解します。